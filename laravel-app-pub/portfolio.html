<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>티에이치스터디 · 기술 문서</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" rel="stylesheet">

  <style>
    :root{ --ink:#0f172a; --muted:#475569; --line:#e2e8f0; --hero1:#020617; --hero2:#0f172a; --accent:#3b82f6; --card:rgba(255,255,255,.08); --cardLine:rgba(255,255,255,.14);}
    body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans KR","Apple SD Gothic Neo","Malgun Gothic",sans-serif;color:var(--ink);background:#fff;}
    .hero{background:radial-gradient(1200px 600px at 15% 15%, rgba(59,130,246,.28), transparent 60%),radial-gradient(900px 500px at 85% 30%, rgba(99,102,241,.22), transparent 55%),linear-gradient(180deg, var(--hero1), var(--hero2));color:#fff;}
    .pill{display:inline-flex;align-items:center;gap:.5rem;border:1px solid var(--cardLine);background:rgba(255,255,255,.06);padding:.45rem .85rem;border-radius:999px;color:rgba(255,255,255,.82);backdrop-filter: blur(10px);font-size:.92rem;}
    .accent{color:var(--accent);}
    .hero-card{border:1px solid var(--cardLine);background:var(--card);border-radius:18px;box-shadow:0 12px 44px rgba(0,0,0,.35);backdrop-filter: blur(10px);}
    .icons i{font-size:28px;color:rgba(255,255,255,.86);}
    .section{padding:72px 0;}
    .h2x{font-weight:950;letter-spacing:-.02em;}
    .leadx{color:var(--muted);}
    .box{border:1px solid var(--line);background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(2,6,23,.06);}
    .box.pad{padding:24px;}
    .toc ul{list-style:none;padding:0;margin:0;}
    .toc li{display:flex;gap:12px;align-items:baseline;padding:10px 0;border-bottom:1px dashed #e2e8f0;}
    .toc li:last-child{border-bottom:none;}
    .toc a{text-decoration:none;color:var(--ink);font-weight:800;}
    .toc a:hover{color:var(--accent);}
    .toc-dots{flex:1;border-bottom:1px dotted #cbd5e1;transform: translateY(-2px);}
    .toc-desc{color:#64748b;font-size:.92rem;white-space:nowrap;}

    .codeblock{border-radius:14px;overflow:hidden;border:1px solid #11182722;background:#0b1220;margin:14px 0;}
    .codehdr{padding:10px 12px;color:rgba(255,255,255,.70);font-size:12px;border-bottom:1px solid rgba(255,255,255,.08);display:flex;align-items:center;justify-content:space-between;}
    .copybtn{border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.10);color:#fff;border-radius:10px;padding:6px 10px;font-size:12px;cursor:pointer;}
    .codeblock pre{padding:18px 18px 20px;color:#e5e7eb;font-size:14px;line-height:1.75;font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;overflow:auto;white-space:pre;margin:0;tab-size: 2;}
    .table thead th{background:#f8fafc;}
    .callout{border-left:6px solid var(--accent);background:#eff6ff;border-radius:14px;padding:16px 18px;color:var(--ink);}
    .svg-wrap{border:1px solid var(--line);border-radius:16px;background:#fff;padding:16px;}
    .svg-flow{width:100%;height:auto;}
    .readme h1,.readme h2,.readme h3,.readme h4,.readme h5,.readme h6{font-weight:950;letter-spacing:-.02em;}
    .readme h2{margin-top:30px;}
    .readme p{margin:10px 0;}
    .readme ul,.readme ol{margin:10px 0 14px 18px;}
    blockquote{border-left:4px solid #cbd5e1;padding-left:12px;color:#334155;}

    @media print{.no-print{display:none !important;}.section{padding:34px 0;}a{color:inherit;text-decoration:none;}.hero,.codeblock{-webkit-print-color-adjust:exact;print-color-adjust:exact;}.box{box-shadow:none;}}
  </style>
</head>

<body>
<header class="hero py-5">
  <div class="container py-4">
    <div class="row align-items-center g-4">
      <div class="col-lg-7">
        <div class="pill mb-3"><i class="bi bi-stars"></i><span>티에이치스터디</span></div>
        <h1 class="display-5 fw-bold mb-3">성장하는 개발자를, <span class="accent">운영하는 개발자로</span>.</h1>
        <p class="fs-5 text-white-50 mb-2">개발자 성장 플랫폼</p>
        <p class="lead text-white-50 mb-4">기획·디자인·개발·배포·백업까지, “서비스를 굴리는 경험”을 축적한다.</p>
        <div class="d-flex flex-wrap gap-3 no-print">
          <a class="btn btn-primary btn-lg rounded-4 px-4" href="https://www.th-study.com/" target="_blank" rel="noreferrer"><i class="bi bi-globe2 me-2"></i>사이트</a>
          <a class="btn btn-outline-light btn-lg rounded-4 px-4" href="https://github.com/th-study-group/th-study" target="_blank" rel="noreferrer"><i class="bi bi-github me-2"></i>GitHub</a>
        </div>
      </div>
      <div class="col-lg-5">
        <div class="hero-card p-4">
          <div class="fw-bold text-white mb-2">요약</div>
          <ul class="text-white-50 mb-3" style="margin-left:18px;">
            <li>운영: AWS Lightsail Ubuntu 직접 구성(도커 미사용)</li>
            <li>검증: 로컬 Docker로 Ubuntu 환경 재현</li>
            <li>백업: <code style="color:#fff;">/backup/mysql</code> 14일 보관</li>
          </ul>
          <div class="fw-bold text-white mb-2">Tech Stack</div>
          <div class="d-flex flex-wrap gap-3 align-items-center icons">
            <i class="devicon-php-plain"></i><i class="devicon-laravel-original"></i><i class="devicon-mysql-original"></i>
            <i class="devicon-nginx-original"></i><i class="devicon-ubuntu-plain"></i><i class="devicon-docker-plain"></i><i class="devicon-bootstrap-plain"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<section class="section">
  <div class="container">
    <div class="row g-4">
      <div class="col-lg-4">
        <h2 class="h2x mb-3">목차</h2>
        <p class="leadx mb-0">표/흐름도/코드 블록 + README 원문까지 포함</p>
      </div>
      <div class="col-lg-8">
        <div class="box pad toc">
          <ul>
            <li><a href="#overview">1. 개요</a><span class="toc-dots"></span><span class="toc-desc">방향/슬로건</span></li>
            <li><a href="#versions">2. 버전</a><span class="toc-dots"></span><span class="toc-desc">Laravel/PHP/Node 등</span></li>
            <li><a href="#flows">3. 핵심 흐름</a><span class="toc-dots"></span><span class="toc-desc">메일/배포</span></li>
            <li><a href="#run">4. 실행</a><span class="toc-dots"></span><span class="toc-desc">로컬/큐</span></li>
            <li><a href="#deploy">5. 배포</a><span class="toc-dots"></span><span class="toc-desc">SSH + git pull</span></li>
            <li><a href="#infra">6. 운영 인프라</a><span class="toc-dots"></span><span class="toc-desc">Lightsail + Swap</span></li>
            <li><a href="#backup">7. DB 백업</a><span class="toc-dots"></span><span class="toc-desc">14일 정책</span></li>
            <li><a href="#docker">8. 개발 검증(Docker)</a><span class="toc-dots"></span><span class="toc-desc">compose on/off</span></li>
            <li><a href="#appendix">9. README 원문</a><span class="toc-dots"></span><span class="toc-desc">전체 포함</span></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="overview" class="section bg-light">
  <div class="container">
    <h2 class="h2x mb-3">1. 개요</h2>
    <div class="box pad">
      <p class="leadx mb-2">티에이치스터디는 기능 구현에서 끝나지 않고, 운영까지 포함해서 “서비스를 굴리는 경험”을 축적하는 프로젝트다.</p>
      <div class="row g-3">
        <div class="col-md-4"><div class="p-3 border rounded-4"><div class="fw-bold">나를 뛰어넘는 개발자</div><div class="text-secondary mt-1">구조/운영까지 확장</div></div></div>
        <div class="col-md-4"><div class="p-3 border rounded-4"><div class="fw-bold">나를 뛰어넘어 성장하는 개발자</div><div class="text-secondary mt-1">기록 → 개선 → 반복</div></div></div>
        <div class="col-md-4"><div class="p-3 border rounded-4"><div class="fw-bold">장인정신을 지닌 개발자</div><div class="text-secondary mt-1">속도 + 구조 + 운영 균형</div></div></div>
      </div>
      <div class="callout mt-3"><strong>범위</strong><br>기획/디자인/개발/배포/백업/로그까지 한 프로젝트 안에서 전부 경험하고 문서로 남긴다.</div>
    </div>
  </div>
</section>

<section id="versions" class="section">
  <div class="container">
    <h2 class="h2x mb-3">2. 버전</h2>
    <div class="box pad">
      <div class="table-responsive">
        <table class="table table-bordered align-middle mb-0">
          <thead><tr><th style="width:28%">항목</th><th>버전</th></tr></thead>
          <tbody><tr><td class='fw-bold'>Laravel</td><td>10</td></tr>
<tr><td class='fw-bold'>PHP</td><td>8.2</td></tr>
<tr><td class='fw-bold'>MySQL</td><td>[MySQL 버전]</td></tr>
<tr><td class='fw-bold'>Ubuntu</td><td>Ubuntu 22.04</td></tr>
<tr><td class='fw-bold'>Nginx</td><td>[Nginx 버전]</td></tr>
<tr><td class='fw-bold'>Node.js</td><td>[Node 버전]</td></tr>
<tr><td class='fw-bold'>Vite</td><td>[Vite 버전]</td></tr>
<tr><td class='fw-bold'>Bootstrap</td><td>5</td></tr>
<tr><td class='fw-bold'>Docker</td><td>[Docker 버전]</td></tr></tbody>
        </table>
      </div>
    </div>
  </div>
</section>

<section id="flows" class="section bg-light">
  <div class="container">
    <h2 class="h2x mb-3">3. 핵심 흐름</h2>
    <div class="row g-3">
      <div class="col-lg-6"><div class="box pad h-100"><div class="fw-bold mb-2"><i class="bi bi-envelope me-2"></i>메일/큐 흐름</div><div class="svg-wrap">
<svg class="svg-flow" viewBox="0 0 980 160" role="img" aria-label="메일/큐 흐름도">
  <defs><marker id="arrow2" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
    <path d="M0,0 L12,6 L0,12 z" fill="#111827"></path></marker></defs>
  <g font-family="system-ui, -apple-system" font-size="18" fill="#111827">
    <rect x="30"  y="50" width="160" height="64" rx="14" fill="#fff" stroke="#cbd5e1" stroke-width="2"/><text x="55" y="90">Controller</text>
    <rect x="220" y="50" width="160" height="64" rx="14" fill="#fff" stroke="#cbd5e1" stroke-width="2"/><text x="272" y="90">Service</text>
    <rect x="410" y="50" width="160" height="64" rx="14" fill="#fff" stroke="#cbd5e1" stroke-width="2"/><text x="462" y="82">Job</text><text x="440" y="104">(Queue)</text>
    <rect x="600" y="50" width="160" height="64" rx="14" fill="#fff" stroke="#cbd5e1" stroke-width="2"/><text x="635" y="82">Listener</text><text x="632" y="104">(Optional)</text>
    <rect x="790" y="50" width="160" height="64" rx="14" fill="#fff" stroke="#cbd5e1" stroke-width="2"/><text x="820" y="82">Mail +</text><text x="815" y="104">mail_logs</text>
    <line x1="190" y1="82" x2="220" y2="82" stroke="#111827" stroke-width="2.2" marker-end="url(#arrow2)"/>
    <line x1="380" y1="82" x2="410" y2="82" stroke="#111827" stroke-width="2.2" marker-end="url(#arrow2)"/>
    <line x1="570" y1="82" x2="600" y2="82" stroke="#111827" stroke-width="2.2" marker-end="url(#arrow2)"/>
    <line x1="760" y1="82" x2="790" y2="82" stroke="#111827" stroke-width="2.2" marker-end="url(#arrow2)"/>
  </g>
</svg>
</div></div></div>
      <div class="col-lg-6"><div class="box pad h-100"><div class="fw-bold mb-2"><i class="bi bi-rocket-takeoff me-2"></i>배포 흐름</div><div class="svg-wrap">
<svg class="svg-flow" viewBox="0 0 1100 180" role="img" aria-label="배포 흐름도">
  <defs><marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
    <path d="M0,0 L12,6 L0,12 z" fill="#111827"></path></marker></defs>
  <g font-family="system-ui, -apple-system" font-size="18" fill="#111827">
    <circle cx="85" cy="90" r="40" fill="#fff" stroke="#cbd5e1" stroke-width="2"/><text x="62" y="96">Local</text>
    <rect x="165" y="58" width="180" height="64" rx="14" fill="#fff" stroke="#cbd5e1" stroke-width="2"/><text x="205" y="96">GitHub push</text>
    <rect x="375" y="58" width="180" height="64" rx="14" fill="#fff" stroke="#cbd5e1" stroke-width="2"/><text x="440" y="96">SSH</text>
    <rect x="585" y="58" width="180" height="64" rx="14" fill="#fff" stroke="#cbd5e1" stroke-width="2"/><text x="638" y="96">git pull</text>
    <rect x="795" y="58" width="270" height="64" rx="14" fill="#fff" stroke="#cbd5e1" stroke-width="2"/>
    <text x="825" y="88">build / migrate /</text><text x="865" y="110">restart</text>
    <line x1="125" y1="90" x2="165" y2="90" stroke="#111827" stroke-width="2.4" marker-end="url(#arrow)"/>
    <line x1="345" y1="90" x2="375" y2="90" stroke="#111827" stroke-width="2.4" marker-end="url(#arrow)"/>
    <line x1="555" y1="90" x2="585" y2="90" stroke="#111827" stroke-width="2.4" marker-end="url(#arrow)"/>
    <line x1="765" y1="90" x2="795" y2="90" stroke="#111827" stroke-width="2.4" marker-end="url(#arrow)"/>
  </g>
</svg>
</div></div></div>
    </div>
  </div>
</section>

<section id="run" class="section">
  <div class="container">
    <h2 class="h2x mb-3">4. 실행</h2>
    <div class="box pad">
    <div class="codeblock">
      <div class="codehdr"><span>bash · 로컬 실행(예시)</span><button class="copybtn no-print" onclick="copyFrom('#localRun')">복사</button></div>
      <pre id="localRun"><code># 의존성 설치
composer install
npm install

# 환경파일 준비
cp .env.example .env
php artisan key:generate

# DB 반영 + 시드
php artisan migrate --seed

# 개발 서버
npm run dev
php artisan serve --host=0.0.0.0 --port=8000</code></pre>
    </div>
    <div class="mt-4">
    <div class="codeblock">
      <div class="codehdr"><span>bash · 큐 사용(예시)</span><button class="copybtn no-print" onclick="copyFrom('#queueRun')">복사</button></div>
      <pre id="queueRun"><code># 큐 워커 실행
php artisan queue:work

# 배포 후 작업 반영(재시작)
php artisan queue:restart

# 실패 작업 확인(필요 시)
php artisan queue:failed</code></pre>
    </div>
    </div></div>
  </div>
</section>

<section id="deploy" class="section bg-light">
  <div class="container">
    <h2 class="h2x mb-3">5. 배포</h2>
    <div class="box pad">
    <div class="codeblock">
      <div class="codehdr"><span>bash · 서버 접속</span><button class="copybtn no-print" onclick="copyFrom('#sshCmd')">복사</button></div>
      <pre id="sshCmd"><code>ssh [유저명or아이디]@[서버IP]
# 예) ssh ubuntu@1.2.3.4</code></pre>
    </div>
    <div class="mt-4">
    <div class="codeblock">
      <div class="codehdr"><span>bash · 배포(서버에서 실행)</span><button class="copybtn no-print" onclick="copyFrom('#deployCmd')">복사</button></div>
      <pre id="deployCmd"><code>cd /var/www/th-study

# 최신 코드
git pull origin main

# PHP 의존성(운영용)
composer install --no-dev -o

# 프론트 빌드
npm ci
npm run build

# DB 반영
php artisan migrate --force

# 큐 반영
php artisan queue:restart

# 웹서버 리로드(필요 시)
sudo systemctl reload nginx</code></pre>
    </div>
    </div></div>
  </div>
</section>

<section id="infra" class="section">
  <div class="container">
    <h2 class="h2x mb-3">6. 운영 인프라 (AWS Lightsail)</h2>
    <div class="box pad">
      <div class="table-responsive">
        <table class="table table-bordered align-middle mb-0">
          <thead><tr><th style="width:22%">항목</th><th>값</th></tr></thead>
          <tbody>
            <tr><td class="fw-bold">서버</td><td>AWS Lightsail / Ubuntu</td></tr>
            <tr><td class="fw-bold">웹</td><td>Nginx + PHP-FPM</td></tr>
            <tr><td class="fw-bold">DB</td><td>MySQL</td></tr>
            <tr><td class="fw-bold">운영 특징</td><td>도커 없이 직접 설치 운영</td></tr>
          </tbody>
        </table>
      </div>
      <div class="mt-4">
    <div class="codeblock">
      <div class="codehdr"><span>bash · Swap 2GB(메모리 보강)</span><button class="copybtn no-print" onclick="copyFrom('#swapCmd')">복사</button></div>
      <pre id="swapCmd"><code>sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

swapon --show
free -h</code></pre>
    </div>
    </div>
    </div>
  </div>
</section>

<section id="backup" class="section bg-light">
  <div class="container">
    <h2 class="h2x mb-3">7. DB 백업</h2>
    <div class="box pad">
      <div class="table-responsive">
        <table class="table table-bordered align-middle mb-0">
          <thead><tr><th style="width:18%">구분</th><th>경로</th><th style="width:22%">주기</th><th style="width:22%">보관</th></tr></thead>
          <tbody>
            <tr><td class="fw-bold">Full</td><td><code>/backup/mysql/full</code></td><td>1일 1회</td><td>14일</td></tr>
            <tr><td class="fw-bold">Binlog</td><td><code>/backup/mysql/binlog</code></td><td>매시간</td><td>14일</td></tr>
          </tbody>
        </table>
      </div>
      <div class="mt-4">
    <div class="codeblock">
      <div class="codehdr"><span>bash · 14일 지난 백업 삭제</span><button class="copybtn no-print" onclick="copyFrom('#bkClean')">복사</button></div>
      <pre id="bkClean"><code>find /backup/mysql -type f -mtime +14 -delete</code></pre>
    </div>
    </div>
    </div>
  </div>
</section>

<section id="docker" class="section">
  <div class="container">
    <h2 class="h2x mb-3">8. 개발 검증(Docker)</h2>
    <div class="box pad">
      <p class="leadx mb-2">운영 서버를 하나 더 사지 않고도, 배포 전 동일한 Ubuntu 기반 환경을 맞추기 위해 Docker Compose를 사용한다. 운영은 Ubuntu 직접 설치로 간다.</p>
      
    <div class="codeblock">
      <div class="codehdr"><span>bash · Docker Compose on/off</span><button class="copybtn no-print" onclick="copyFrom('#dcOnOff')">복사</button></div>
      <pre id="dcOnOff"><code># 켜기
docker compose up -d

# 상태
docker compose ps

# 로그
docker compose logs -f

# 내리기
docker compose down</code></pre>
    </div>
    
      <div class="mt-4">
    <div class="codeblock">
      <div class="codehdr"><span>bash · 도커 MySQL 접속(예시)</span><button class="copybtn no-print" onclick="copyFrom('#dcMysql')">복사</button></div>
      <pre id="dcMysql"><code>docker exec -it th-mysql mysql -u[유저명or아이디] -p

USE [DB이름];
SHOW TABLES;</code></pre>
    </div>
    </div>
    </div>
  </div>
</section>

<section id="appendix" class="section bg-light">
  <div class="container">
    <h2 class="h2x mb-3">9. README 원문</h2>
    <div class="box pad readme">
      <h1 id="readme-티에이치-스터디---개발자성장플랫폼">티에이치 스터디 - 개발자성장플랫폼</h1>
<p>Laravel 기반 개인 개발 플랫폼입니다. 기록, 운영, 커뮤니케이션 기능을 하나로 묶어 성장 과정을 서비스 형태로 관리합니다.</p>
<p>이 문서는 기능이 커져도 빠르게 구조를 파악할 수 있도록 <strong>핵심 정책과 동작 원리만</strong> 정리합니다.</p>
<h2 id="readme-1-핵심-기능">1. 핵심 기능</h2>
<ul>
<li>회원가입, 로그인/로그아웃, 이메일 인증</li>
<li>비밀번호 찾기(메일 링크), 비밀번호 변경(요청/완료)</li>
<li>사용자 계정 관리(내 정보 수정, 탈퇴)</li>
<li>공지 게시판(사용자 조회, 관리자 CRUD/공개여부 관리)</li>
<li>문의 게시판(사용자 등록/조회, 관리자 상태 관리)</li>
<li>비로그인 게스트 문의 접수 및 관리자 처리</li>
<li>댓글(일반 게시글 및 운영 답변 흐름)</li>
<li>메일 발송/수신 로그, 로그인 로그, 게시글 히스토리 로그</li>
</ul>
<h3 id="readme-브랜드-슬로건">브랜드 슬로건</h3>
<ul>
<li>나를 뛰어넘는 개발자</li>
<li>나를 뛰어넘는 성장하는 개발자</li>
<li>개발을 넘어 브랜드 기획, 디자인, 광고, 애드센스까지 확장하는 개발자</li>
</ul>
<h3 id="readme-homebladephp-introbladephp-역할"><code>home.blade.php</code> / <code>intro.blade.php</code> 역할</h3>
<ul>
<li><code>resources/views/home.blade.php</code>: 대외 첫인상 랜딩 페이지</li>
<li><code>resources/views/intro.blade.php</code>: 브랜드 철학과 경험을 서사형으로 전달하는 소개 페이지</li>
<li>운영 기준: <code>home</code>은 빠른 이해, <code>intro</code>는 깊은 공감과 신뢰 형성에 초점</li>
</ul>
<h2 id="readme-2-기술-스택">2. 기술 스택</h2>
<ul>
<li>Backend: PHP 8.2, Laravel 10</li>
<li>DB: MySQL</li>
<li>Frontend: Blade, Bootstrap 5, jQuery</li>
<li>Date UI: Flatpickr</li>
<li>Queue: Database queue</li>
<li>Realtime(실험): Pusher + Laravel Echo</li>
<li>Infra: Docker(app, queue, nginx, mysql, node), self-hosted deploy</li>
</ul>
<h2 id="readme-3-디렉터리-빠른-가이드">3. 디렉터리 빠른 가이드</h2>
<div class="codeblock"><div class="codehdr"><span>text</span></div><pre><code>app/
  Http/Controllers   # 요청 진입점
  Http/Requests      # 유효성 검증(FormRequest)
  Services           # 비즈니스 로직
  Repositories       # DB 접근 로직
  Models             # Eloquent 모델
  Policies           # 권한 판단
  Middleware         # 요청 정책
  Events/Listeners   # 로그/이력 이벤트 처리
  Jobs               # 비동기 작업(메일 큐)

routes/
  web.php            # 홈/정적 페이지
  auth.php           # 인증/계정 관련
  login.php          # 로그인 사용자 영역
  user.php           # 공개 게시판/게스트문의
  admin.php          # 관리자 영역
  content.php        # 카테고리형 콘텐츠 페이지
  dev.php            # 로컬 전용 테스트 라우트

resources/views/
  layouts/           # 공통 레이아웃
  users/             # 회원/인증 화면
  inquiries/         # 사용자 문의 화면
  admins/            # 관리자 화면
  emails/            # 메일 템플릿</code></pre></div>
<h2 id="readme-4-요청-처리-원리">4. 요청 처리 원리</h2>
<p>기본 흐름은 아래와 같습니다.</p>
<ol>
<li><code>Route</code>가 URL을 컨트롤러로 연결</li>
<li><code>FormRequest</code>가 입력 검증</li>
<li><code>Controller</code>가 <code>Service</code> 호출</li>
<li><code>Service</code>가 도메인 규칙 처리</li>
<li><code>Repository</code>가 DB 조회/저장 수행</li>
<li>결과를 Blade 또는 JSON으로 응답</li>
</ol>
<p>핵심 원칙:</p>
<ul>
<li>Controller는 얇게 유지</li>
<li>도메인 규칙은 Service에 집중</li>
<li>DB 쿼리는 Repository에 분리</li>
</ul>
<h2 id="readme-5-라우팅접근-정책">5. 라우팅/접근 정책</h2>
<ul>
<li>공통 웹: <code>routes/web.php</code></li>
<li>인증: <code>routes/auth.php</code></li>
<li>로그인 사용자: <code>routes/login.php</code></li>
<li>관리자: <code>routes/admin.php</code></li>
<li>공개 게시판/게스트문의: <code>routes/user.php</code></li>
<li>로컬 개발 테스트: <code>routes/dev.php</code> (<code>local.only</code> 미들웨어)</li>
</ul>
<p>관리자 라우트는 <code>auth + email.verified + level:admin</code> 정책으로 보호됩니다.</p>
<h2 id="readme-6-게시판-타입-정책">6. 게시판 타입 정책</h2>
<p>게시판 타입 정책은 <code>config/board.php</code>로 중앙 관리합니다.</p>
<ul>
<li><code>post_type</code>: 전체 게시판 타입 정의</li>
<li><code>post_type_for_route</code>: 사용자 URL 노출 대상 타입</li>
<li><code>post_type_excluded</code>: 권한/정책 제외 타입</li>
<li><code>post_use_flag</code>: 공개(1)/비공개(0) 라벨</li>
<li><code>status</code>: 문의 처리 상태(<code>wait</code>, <code>in_progress</code>, <code>on_hold</code>, <code>completed</code>)</li>
</ul>
<p>운영 관점:</p>
<ul>
<li>타입을 추가/변경할 때 <code>config/board.php</code>를 기준으로 라우트/뷰/권한을 함께 맞춥니다.</li>
<li>관리자에서 게시글 공개 여부(<code>use_flag</code>)를 제어합니다.</li>
</ul>
<h2 id="readme-7-미들웨어권한-정책">7. 미들웨어/권한 정책</h2>
<h3 id="readme-미들웨어">미들웨어</h3>
<ul>
<li><code>auth</code>: 로그인 사용자만 접근</li>
<li><code>email.verified</code>: 이메일 인증 완료 사용자만 접근</li>
<li><code>level:admin</code>: 관리자 권한 체크</li>
<li><code>note.slug</code>: 콘텐츠 slug 유효성 체크</li>
<li><code>local.only</code>: 로컬 환경/허용 IP에서만 접근</li>
<li><code>ForcePasswordChange</code>: 비밀번호 변경 강제 대상 유저 제어</li>
<li><code>CheckSessionVersion</code>: 개인정보 변경 후 세션 불일치 시 재로그인 강제</li>
</ul>
<h3 id="readme-policy">Policy</h3>
<ul>
<li><code>UserPolicy</code>: 사용자 탈퇴 권한</li>
<li><code>PostPolicy</code>: 게시글 수정/삭제/공개여부 변경 권한</li>
<li><code>CommentPolicy</code>: 댓글 생성/수정/삭제 권한</li>
</ul>
<p>핵심 원칙:</p>
<ul>
<li>미들웨어는 &quot;입구 보안&quot;</li>
<li>Policy는 &quot;행동 권한&quot;</li>
</ul>
<h2 id="readme-8-메일-시스템">8. 메일 시스템</h2>
<h3 id="readme-81-공통-발송-파이프라인">8.1 공통 발송 파이프라인</h3>
<ol>
<li>컨트롤러/서비스에서 <code>SendMailJob</code> 실행</li>
<li>큐 워커가 메일 발송 수행</li>
<li>발송 직후 <code>MailSentEvent</code> 발생</li>
<li><code>WriteMailLogEventListener</code>가 <code>mail_logs</code> 기록</li>
<li>일부 기능은 메일 링크 진입 시 수신 시각/IP를 업데이트</li>
</ol>
<h3 id="readme-82-메일-템플릿-구성">8.2 메일 템플릿 구성</h3>
<p>템플릿 경로: <code>resources/views/emails</code></p>
<ul>
<li><code>verify_code.blade.php</code>: 회원가입 이메일 인증</li>
<li><code>reset_password.blade.php</code>: 비밀번호 재설정 링크</li>
<li><code>password_change_request.blade.php</code>: 비밀번호 변경 요청 안내</li>
<li><code>password_change_complete.blade.php</code>: 비밀번호 변경 완료 안내</li>
<li><code>withdrawal_notice.blade.php</code>: 회원탈퇴 완료 안내</li>
<li><code>inquiry_created.blade.php</code>: 문의 등록 알림(관리자)</li>
<li><code>inquiry_answered.blade.php</code>: 문의 답변 알림(작성자)</li>
</ul>
<h3 id="readme-83-메일-발송-시나리오">8.3 메일 발송 시나리오</h3>
<ul>
<li>회원가입 후 이메일 인증 메일 발송</li>
<li>계정찾기(비밀번호 찾기) 요청 시 재설정 메일 발송</li>
<li>비밀번호 변경 요청/완료 시 안내 메일 발송</li>
<li>회원탈퇴 완료 시 안내 메일 발송</li>
<li>문의 등록 시 관리자 알림 메일 발송</li>
<li>댓글(답변) 등록 시 작성자 알림 메일 발송</li>
</ul>
<h3 id="readme-84-메일-로그-정책">8.4 메일 로그 정책</h3>
<p><code>mail_logs</code>에 아래 정보를 기록합니다.</p>
<ul>
<li>메일 종류(<code>kind</code>)</li>
<li>수신 이메일(<code>email</code>)</li>
<li>토큰(<code>token</code>, 필요 시)</li>
<li>발송 시각(<code>send_datetime</code>)</li>
<li>수신 확인 시각/아이피(<code>receive_datetime</code>, <code>receive_ip</code>)</li>
</ul>
<p>운영자는 발송 이력과 링크 도달 이력을 분리해서 추적할 수 있습니다.</p>
<h2 id="readme-9-데이터-모델-핵심">9. 데이터 모델 핵심</h2>
<ul>
<li><code>users</code>: 회원</li>
<li><code>posts</code>: 게시글/문의</li>
<li><code>comments</code>: 댓글</li>
<li><code>guest_posts</code>: 비로그인 문의</li>
<li><code>post_histories</code>: 게시글 작업 이력</li>
<li><code>login_logs</code>: 로그인 시도 로그</li>
<li><code>mail_logs</code>: 메일 발송/수신 로그</li>
<li><code>jobs</code>, <code>failed_jobs</code>, <code>sessions</code>, <code>password_reset_tokens</code>: 큐/세션/복구</li>
</ul>
<h2 id="readme-10-로컬-실행">10. 로컬 실행</h2>
<div class="codeblock"><div class="codehdr"><span>bash</span></div><pre><code>composer install
cp .env.example .env
php artisan key:generate
php artisan migrate --seed
php artisan serve</code></pre></div>
<p>큐 사용 시:</p>
<div class="codeblock"><div class="codehdr"><span>bash</span></div><pre><code>php artisan queue:work</code></pre></div>
<p>프론트 자산 개발:</p>
<div class="codeblock"><div class="codehdr"><span>bash</span></div><pre><code>npm install
npm run dev</code></pre></div>
<h2 id="readme-11-docker-실행-개요">11. Docker 실행 개요</h2>
<p><code>docker-compose.yml</code> 기준 서비스:</p>
<ul>
<li><code>app</code> (php-fpm)</li>
<li><code>queue</code> (queue worker)</li>
<li><code>nginx</code></li>
<li><code>mysql</code></li>
<li><code>node</code> (vite dev server)</li>
</ul>
<h2 id="readme-12-운영-보안-가이드">12. 운영 보안 가이드</h2>
<ul>
<li><code>.env</code> 및 민감한 키/토큰/패스워드는 저장소에 커밋하지 않습니다.</li>
<li>README에는 실제 운영 계정, 실제 도메인 내부정보, 비밀키를 기록하지 않습니다.</li>
<li>로컬 개발용 라우트(<code>_dev/*</code>)는 운영에서 노출되지 않도록 환경 정책을 유지합니다.</li>
<li>메일/로그는 운영 추적용으로만 활용하고 개인정보 최소 수집 원칙을 지킵니다.</li>
</ul>
<h2 id="readme-13-기능-확장-시-체크리스트">13. 기능 확장 시 체크리스트</h2>
<p>기능 추가 시 아래 순서로 보면 소스 탐색이 빠릅니다.</p>
<ol>
<li><code>routes/*</code>에서 엔드포인트 위치 확인</li>
<li>대응 <code>Controller</code> 확인</li>
<li><code>Request</code> 검증 규칙 확인</li>
<li><code>Service</code> 도메인 규칙 확인</li>
<li><code>Repository</code>/<code>Model</code> DB 처리 확인</li>
<li><code>Policy</code>/<code>Middleware</code> 접근 정책 확인</li>
<li><code>views/*</code> 화면 및 <code>emails/*</code> 템플릿 확인</li>
</ol>
<p>이 순서를 기준으로 보면 기능이 커져도 추적 경로가 안정적으로 유지됩니다.</p>
<h2 id="readme-14-홈인트로-퍼블리싱-가이드">14. 홈/인트로 퍼블리싱 가이드</h2>
<p>향후 퍼블리싱 업데이트 시 아래 기준을 유지하면 브랜드 일관성을 지키기 쉽습니다.</p>
<h3 id="readme-141-페이지-역할-분리">14.1 페이지 역할 분리</h3>
<ul>
<li><code>home</code>: 서비스 핵심 요약, 신뢰 요소, CTA, 문의 전환</li>
<li><code>intro</code>: 섹션 전환 기반 스토리텔링, 약력/철학/확장 방향 강조</li>
</ul>
<h3 id="readme-142-콘텐츠-구조-참고">14.2 콘텐츠 구조 참고</h3>
<ul>
<li><code>home</code> 주요 블록</li>
<li>Hero(브랜드 키메시지 + 주요 CTA)</li>
<li>About(프로젝트 존재 이유)</li>
<li>Highlights/Keywords(핵심 가치)</li>
<li>Slogan/Why(브랜드 톤 강화)</li>
<li>Stats/Roadmap(운영 관점 미래 계획)</li>
<li>Profile/Stack(신뢰 근거)</li>
<li>Contact Modal + Guest Inquiry(전환 지점)</li>
<li><code>intro</code> 주요 블록</li>
<li>Hero(타이핑 슬로건)</li>
<li>소개, 약력, 사회공헌, PHP, AI, 수익, 문의</li>
<li>우측 Dot Navigation + 섹션별 이미지/태그/액션 버튼</li>
</ul>
<h3 id="readme-143-스타일-시스템-참고">14.3 스타일 시스템 참고</h3>
<ul>
<li><code>public/css/intro/home.css</code></li>
<li>다크 톤 그라디언트 배경 + 강조 색상(<code>--accent</code>, <code>--accent2</code>)</li>
<li>카드/칩/버튼 컴포넌트 중심 구성</li>
<li><code>reveal</code> 클래스로 섹션 등장 연출</li>
<li><code>public/css/intro/intro.css</code></li>
<li>풀스크린 섹션 전환, Dot Nav, Hero 배경 패럴랙스</li>
<li>태그/액션 버튼/리스트의 일관된 시각 규칙</li>
<li>모바일/접근성(<code>prefers-reduced-motion</code>) 대응 포함</li>
</ul>
<h3 id="readme-144-인터랙션-구현-참고">14.4 인터랙션 구현 참고</h3>
<ul>
<li><code>public/js/intro/home.js</code></li>
<li>앵커 스무스 스크롤</li>
<li><code>IntersectionObserver</code> 기반 reveal 애니메이션</li>
<li><code>public/js/intro/intro.js</code></li>
<li>섹션 전환(휠/터치/키보드)</li>
<li>타이핑 효과(<code>나를 뛰어넘는 개발자</code>)</li>
<li>이미지/배경 패럴랙스</li>
<li>내장 SVG 아이콘 동적 주입</li>
</ul>
<h3 id="readme-145-브랜드-이미지자산-운영-가이드">14.5 브랜드 이미지/자산 운영 가이드</h3>
<ul>
<li>홈 핵심 이미지: <code>public/images/main_logo.png</code>, <code>public/images/extension_logo.png</code>, <code>public/images/intro_project_img.jpg</code></li>
<li>소개 섹션 이미지: <code>public/images/intro/*.avif</code></li>
<li>업데이트 권장 방식</li>
<li>새 이미지 추가 시 기존 명명 규칙(<code>intro/001.avif</code> 형태) 유지</li>
<li>텍스트 변경 시 슬로건/키워드/CTA를 함께 조정</li>
<li>섹션 삭제/추가 시 <code>home.js</code>, <code>intro.js</code>의 앵커/네비게이션 동작 동시 점검</li>
<li>문구는 &quot;성장 + 확장 + 운영&quot; 3축을 유지</li>
</ul>
<h2 id="readme-15-마무리-한-줄">15. 마무리 한 줄</h2>
<p>티에이치스터디그룹은 하나의 사이트가 아니라, 개발자로서의 성장 과정을 담는 플랫폼이다.</p>
    </div>
  </div>
</section>

<footer class="py-4 bg-white border-top">
  <div class="container text-secondary small">티에이치스터디 · https://www.th-study.com/ · https://github.com/th-study-group/th-study</div>
</footer>

<script>
  function copyFrom(sel){
    const el = document.querySelector(sel);
    if(!el) return;
    const txt = el.innerText;
    navigator.clipboard.writeText(txt).then(()=>{});
  }
</script>
</body>
</html>
